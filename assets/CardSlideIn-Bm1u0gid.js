import{h as w,i as A,s as g,f as v,j as y,k as F,e as S,l as b}from"./index-BWaNzEFM.js";function h(i){return w()?(A(i),!0):!1}const k=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const T=k?window:void 0;function q(i,u={}){const{immediate:l=!0,fpsLimit:r=void 0,window:e=T,once:f=!1}=u,t=g(!1),n=v(()=>r?1e3/y(r):null);let o=0,a=null;function c(s){if(!t.value||!e)return;o||(o=s);const p=s-o;if(n.value&&p<n.value){a=e.requestAnimationFrame(c);return}if(o=s,i({delta:p,timestamp:s}),f){t.value=!1,a=null;return}a=e.requestAnimationFrame(c)}function d(){!t.value&&e&&(t.value=!0,o=0,a=e.requestAnimationFrame(c))}function m(){t.value=!1,a!=null&&e&&(e.cancelAnimationFrame(a),a=null)}return l&&d(),h(m),{isActive:F(t),pause:m,resume:d}}function I(i,u=2e3,l=40){const r=S(0);let e;const f=v(()=>`transform: translateY(${(1-r.value)*l}vh); transition: transform 0.8s; background: var(--page-side-bg);`);function t(){r.value=0,e&&e(),e=q(({elapsed:n})=>{const o=Math.min(n/u,1);r.value=o,o===1&&e&&e()}).stop}return b(()=>{let n=!1;if(!i){t(),n=!0;return}const o=setTimeout(()=>{n||(t(),n=!0)},2e3),a=new window.Image;a.src=i,a.onload=()=>{n||(clearTimeout(o),t(),n=!0)}}),f}export{I as u};
